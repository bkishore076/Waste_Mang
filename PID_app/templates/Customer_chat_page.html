{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
<title>Users</title>
	
	<!-- Meta tag Keywords -->
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta charset="utf-8">
	<meta name="keywords" content="Taxi Cab Responsive web template, Bootstrap Web Templates, Flat Web Templates, Android Compatible web template, 
	Smartphone Compatible web template, free webdesigns for Nokia, Samsung, LG, SonyEricsson, Motorola web design" />
	<script type="application/x-javascript">
		addEventListener("load", function () {
			setTimeout(hideURLbar, 0);
		}, false);

		function hideURLbar() {
			window.scrollTo(0, 1);
		}
	</script>
	<!--// Meta tag Keywords -->
	
	<!-- css files -->
	<link rel="stylesheet" href="{% static 'css/bootstrap.css' %}"> <!-- Bootstrap-Core-CSS -->
	<link rel="stylesheet" href="{% static 'css/style.css' %}" type="text/css" media="all" /> <!-- Style-CSS --> 
	<link rel="stylesheet" href="{% static 'css/fontawesome-all.css' %}"> <!-- Font-Awesome-Icons-CSS -->
	<!-- //css files -->

	<!-- web-fonts -->
	<link href="//fonts.googleapis.com/css?family=Raleway:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i&amp;subset=latin-ext" rel="stylesheet">
	<!-- //web-fonts -->
	<link rel="stylesheet" type="text/css" href="{% static 'datatable/jquery.dataTables.min.css' %}">
	<script src="{% static 'datatable/jquery.min.js' %}" type="text/javascript"></script>
	<script src="{% static 'datatable/jquery.dataTables.min.js' %}" type="text/javascript"></script>
	<script src="{% static 'datatable/bootstable.min.js' %}" type="text/javascript"></script>
	<script type="text/javascript">
		$(document).ready(function(){
			$(".table").DataTable();
		});
	</script>



<style>


    #user-list a.bg-dark {
        background-color: rgb(107, 107, 107) !important;
    }
    
    .list-group-item {
        cursor: pointer
    }
    
    .chat-bubble {
        min-width: 40%;
        max-width: 80%;
        padding: 5px 15px;
    }
    
    #user-list a:hover * {
        text-decoration: unset;
    }
    
    .chat-box {
        overflow: auto;
        max-width: 100%;
    }

	</style>

</head>

<body onload="myFunction()">

<!--/banner-->
<div class="top-bar_sub_w3layouts container-fluid">
		<div class="row">
			
			<div class="col-md-4 col-sm-6 log-icons mt-2">
				<p class="py-2">    </p>
			</div>
			
			<div class="col-md-4 col-sm-6 logo">
				<a class="navbar-brand" href="#">
					<i class="fas fa-car"></i>WMS</a>
			</div>
			
		</div>
	</div>
	<header style="margin-bottom: 100px;">

		<nav class="navbar navbar-expand-lg navbar-light bg-light top-header">
			<button class="navbar-toggler mx-auto" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
				aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>

			<div class="collapse navbar-collapse" id="navbarSupportedContent" style="background-color: black;padding: 10px;">
				<ul class="navbar-nav mx-auto">
					<li class="nav-item ">
						<a class="nav-link ml-lg-0" href="{% url 'Customer_home' %}">Home
							<span class="sr-only">(current)</span>
						</a>
					</li>
				<li class="nav-item ">
					<a class="nav-link" href="{% url 'Customer_add_request' %}">Cleaning Request</a>
				</li>
				<li class="nav-item ">
					<a class="nav-link" href="{% url 'Customer_view_requests' %}">My requests
						<span class="sr-only">(current)</span>
					</a>
				</li>
			
				
				<li class="nav-item active">
					<a class="nav-link" href="{% url 'Customer_list_user_page' %}">Chat</a>
				</li>
			
				
				<li class="nav-item">
					<a class="nav-link" href="{% url 'Home_page' %}">Logout</a>
				</li>

			
			</ul>


		</div>
	</nav>
</header>
<!-- <div class="banner" id="home" style="height: 100px;" >
	
</div> -->
<!-- //banner -->
<section style="min-height: 500px;"><br><br>
	<div class="container" >

        <!-- <div class="card o-hidden border-0 shadow-lg my-5">
            <div class="card-body p-0"> -->
                <!-- Nested Row within Card Body -->
                <div class="row" >
  
                    <div >
                        <div class="p-5" style="width: 800px;margin-left: 100px;">
                            <div class="text-center">
                                <h1 class="h4 text-gray-900 mb-4">Chat with {{name}}</h1>
                            </div >
                            
                                   
                            <div class="modal-body"  s>
                                <center>
                              <div class="mb-3 row">
                                
                            <textarea name="textarea" disabled id="tarea"
                            rows="10" cols="80"></textarea>
                              </div>
                              <div class="mb-3 row">
                                  <div class="col-md-9">
                                      <input type="text" class="form-control" id="inpid" name="email">
                                    </div>
                               
                                    <button  style="width: 100px;" id="sendbtn" class="btn btn-primary">Send</button>
                                
                              </div>
                          
                             
                          </center>
                         
                           
                          </div>
                                   
                       </div>
                                
                               
                               
                              
                            
                            
                              
                            </div>
                        </div>
                    <!-- </div>
                </div> -->
            </div>
</section><br><br><br>
	
<footer >
	<!-- <div class="container-fluid pt-lg-5">
		 -->
		<!-- copyright -->
		<div class="footer-cpy text-center pt-sm-5 mt-sm-5 mt-4 pt-3">
			<div class="w3layouts-agile-copyrightbottom">
				<p>Â© 2023 WMS. All Rights Reserved | 
					<a href="http://w3layouts.com/"></a>
				</p>

			</div>
		</div>
		<!-- //copyright -->
	<!-- </div> -->
</footer>
<!-- //footer -->
	
<!-- js-scripts -->		

	<!-- js -->
	<script type="text/javascript" src="js/jquery-2.1.4.min.js"></script>
	<script type="text/javascript" src="js/bootstrap.js"></script> <!-- Necessary-JavaScript-File-For-Bootstrap --> 
	<!-- //js -->
	
	<!-- carousel -->
	<script src="js/owl.carousel.js"></script>
	<script>
		$(document).ready(function () {
			$('.owl-carousel').owlCarousel({
				loop: true,
				margin: 10,
				responsiveClass: true,
				responsive: {
					0: {
						items: 1,
						nav: true
					},
					600: {
						items: 1,
						nav: false
					},
					900: {
						items: 2,
						nav: false
					},
					1000: {
						items: 3,
						nav: true,
						loop: false,
						margin: 20
					}
				}
			})
		})
	</script>
	<!-- //carousel -->

	<!--slider-->
	<script src="js/responsiveslides.min.js"></script>
	<script>
		$(function () {
			// Slideshow 1
			$("#slider1").responsiveSlides({
				auto: true,
				pager: true,
				nav: true,
				speed: 500,
				namespace: "centered-btns"
			});
		});
	</script>
	<!--//slider-->

	<!-- start-smoth-scrolling -->
	<script src="{% static 'js/SmoothScroll.min.js' %}"></script>
	<script type="text/javascript" src="{% static 'js/move-top.js' %}"></script>
	<script type="text/javascript" src="{% static 'js/easing.js' %}"></script>
	<script type="text/javascript">
		jQuery(document).ready(function($) {
			$(".scroll").click(function(event){		
				event.preventDefault();
				$('html,body').animate({scrollTop:$(this.hash).offset().top},1000);
			});
		});
	</script>
	<!-- here stars scrolling icon -->
	<script type="text/javascript">
		$(document).ready(function() {
								
			$().UItoTop({ easingType: 'easeOutQuart' });
								
			});
	</script>






<script src="{% static  'jquery-2.1.4.min.js' %}"></script>

<script>

	function myFunction() {
	
		$.ajax({url:"/Getallchats/",
					  data:{
						  
					  },
					  
				  success:function(da){
				  
						
					res=""
				  for(i=0;i<da.datalist.length;i++){
					
					msg=da.datalist[i][0]+" :"+da.datalist[i][1]+"\n"
					res+=msg
					
				 
				  }
				  document.getElementById('tarea').value = res
	 
		// var res = ttext + "\n"+"You: "+uinp+ "\n";
		// document.getElementById('tarea').value = res
					  
				  }
				});
	}
		$("#sendbtn").click(function(){
		
			
		uinp=$('#inpid').val();
		
		if(uinp==""){
			alert("type your query")
		}
		
		else{
		
		
		$.ajax({url:"/Addchat/",
					  data:{
						  
						  "qstn":uinp,
						  
			
					  },
					  
				  success:function(da){
						
					var ttext = document.getElementById('tarea').value;
		var res = ttext +"You: "+uinp;
		document.getElementById('tarea').value = res+"\n"
		document.getElementById("inpid").value = "";
				  }
				});
		
		}
		})
			</script>

</body>
</html>